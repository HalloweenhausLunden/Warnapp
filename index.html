<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pandora Lagezentrum</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="overlay-box">
    <h1>Pandora Warnmeldung</h1>
    <p>Bewahren Sie Ruhe und informieren Sie sich hier Ã¼ber aktuelle Anweisungen.</p>

    <div id="infected-count">ğŸ§  Infizierte in der NÃ¤he: 0</div>
    <div id="countdown-label">Wartezeit bis zur nÃ¤chsten Kohorten - Evakuierung:</div>
    <div id="timer">00:10:00</div>

    <button id="hotline-button">ğŸ“ Hilfe-Hotline anrufen</button>
    <button id="info-button">ğŸ¦  Infektionsanzeichen</button>
  </div>

  <!-- Popups -->
  <div id="popup-hotline" class="popup">
    <p>ğŸ“¡ Zur Zeit sind alle Leitungen belegt, versuchen Sie es spÃ¤ter noch einmal.</p>
    <button onclick="closePopup('popup-hotline')">Fenster schlieÃŸen</button>
  </div>

  <div id="popup-symptoms" class="popup">
    <h3>VerdÃ¤chtige Symptome:</h3>
    <ul style="text-align:left;">
      <li>âš ï¸ Leichtes Zittern trotz WÃ¤rme</li>
      <li>ğŸ§  Verlangsamte Sprache & starrer Blick</li>
      <li>ğŸ©¸ BlÃ¤sse oder blutunterlaufene Augen</li>
      <li>ğŸ¥© Starker Hunger</li>
      <li>ğŸ¤¢ Starke Ãœbelkeit</li>
    </ul>
    <button onclick="closePopup('popup-symptoms')">Fenster schlieÃŸen</button>
  </div>

  <div id="popup-kohorte" class="popup">
    <p>ğŸ“£ Bitte bilden Sie eine Kohorte mit max. 5 Personen!</p>
    <button onclick="closePopup('popup-kohorte')">Verstanden</button>
  </div>

  <!-- Newsband -->
  <div class="news-banner">
    <div class="news-text">
      âš ï¸ Stromausfall in Teilen von Lunden â€“ Techniker unterwegs â€¢ ğŸŒ€ SturmbÃ¶en erwartet ab 22 Uhr â€¢ ğŸ“¢ Sicherheitszone an der Schule am GehÃ¶lz eingerichtet â€¢ ğŸ§£ Kirche abgeriegelt â€¢ ğŸš¨ Hamburg abgeriegelt â€¢ ğŸ“¢ Bundeswehr benachrichtigt â€¢ âš ï¸ Drohnen gestartet â€¢ ğŸš¨ Bilden sie Kohorten mit max. 5 Personen â€¢ âš ï¸ Halten sie Abstand â€¢ ğŸ“¢ Nehmen sie nur das NÃ¶tigste mit â€¢ ğŸš¨ Katastrophenschutz eingetroffen â€¢ âš ï¸ Dem Personal ist unbedingt Folge zu leisten â€¢   
    </div>
     <div class="news-text">
      âš ï¸ Stromausfall in Teilen von Lunden â€“ Techniker unterwegs â€¢ ğŸŒ€ SturmbÃ¶en erwartet ab 22 Uhr â€¢ ğŸ“¢ Sicherheitszone an der Schule am GehÃ¶lz eingerichtet â€¢ ğŸ§£ Kirche abgeriegelt â€¢ ğŸš¨ Hamburg abgeriegelt â€¢ ğŸ“¢ Bundeswehr benachrichtigt â€¢ âš ï¸ Drohnen gestartet â€¢ ğŸš¨ Bilden sie Kohorten mit max. 5 Personen â€¢ âš ï¸ Halten sie Abstand â€¢ ğŸ“¢ Nehmen sie nur das NÃ¶tigste mit â€¢ ğŸš¨ Katastrophenschutz eingetroffen â€¢ âš ï¸ Dem Personal ist unbedingt Folge zu leisten â€¢   
    </div>
  </div>

  <!-- Sounds -->
  <audio id="busy-sound" src="busy-sound.mp3" preload="auto"></audio>
  <audio id="alert-sound" src="alert-signal.mp3" preload="auto"></audio>

  <script>
    function closePopup(id) {
      document.getElementById(id).style.display = "none";
    }

    function showPopup(id) {
      document.getElementById(id).style.display = "block";
    }

    // Countdown alle 10 Minuten ab 16:00 Uhr
    function updateCountdown() {
      const timerElement = document.getElementById("timer");
      const now = new Date();
      const start = new Date();
      start.setHours(16, 0, 0, 0);

      if (now < start) {
        timerElement.textContent = "â³ Noch nicht gestartet";
        return;
      }

      const elapsed = Math.floor((now - start) / 1000);
      const remainder = 600 - (elapsed % 600);
      const minutes = Math.floor(remainder / 60);
      const seconds = remainder % 60;

      timerElement.textContent = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
    }

    // Infizierten-ZÃ¤hler ab 16:00 Uhr bis Mitternacht
    function updateInfectedCount() {
      const countElement = document.getElementById("infected-count");
      const now = new Date();
      const start = new Date();
      start.setHours(16, 0, 0, 0);
      const end = new Date();
      end.setHours(24, 0, 0, 0);

      if (now < start) {
        countElement.textContent = "ğŸ§  Infizierte in der NÃ¤he: 0";
        return;
      }

      const elapsed = Math.floor((now - start) / 1000);
      const infected = Math.min(999, Math.floor(elapsed / 30));
      countElement.textContent = `ğŸ§  Infizierte in der NÃ¤he: ${infected}`;
    }

    // Buttons aktivieren
    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById("hotline-button").addEventListener("click", function () {
        document.getElementById("busy-sound").play();
        showPopup("popup-hotline");
      });

      document.getElementById("info-button").addEventListener("click", function () {
        document.getElementById("alert-sound").play();
        showPopup("popup-symptoms");
      });

      // Wiederholende Updates
      setInterval(updateCountdown, 1000);
      setInterval(updateInfectedCount, 1000);
      setInterval(function () {
        showPopup("popup-kohorte");
      }, 30000);
    });
  </script>
</body>
</html>
